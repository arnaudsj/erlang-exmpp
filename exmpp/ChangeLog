2006-07-03  Jean-Sébastien Pédron  <js.pedron@meetic-corp.com>

	* src/exmpp_xml.erl (start_parser/1, handle_options/2): Error sent
	back by the port driver were ignored, it's now corrected.

	* c_src/contrib/hashtable.h, c_src/contrib/hashtable_private.h,
	c_src/hashtable.c: Imported an hashtable implementation which is used
	by the Expat port driver.

	* c_src/Makefile.am: Add hashtable sources to the Expat port driver.

	* c_src/expat_drv.c: Namespace prefixes are now stored in an hash
	table and set correctly in xmlnselement tuples.
	(expat_drv_control): Fixed a bug where the return value of
	create_parser() was not checked correctly.

	* testsuite/check_xml_parser.erl: Updated to handle namespace prefix
	support in the port driver. Also simplified each test cases.

2006-06-29  Jean-Sébastien Pédron  <js.pedron@meetic-corp.com>

	* configure.ac: Fixed a bug with $EMKOPTS handling.
	Removed two debugging messages. Fixed a typo with `debug_info'.

	* src/exmpp_xml.erl: The function get_path_s/2 wasn't exported; also
	it now handles old path component format.
	(remove_attribute_from_list): Rewritten this completly broken
	function.
	(xmlnselement_to_xmlelement): Now handle properly default and prefixed
	namespaces for elements and attributes.
	(xmlnselement_to_xmlelement): Support for name as atom() was not
	present in the old format, so convert them as string. Fixed a bug when
	an element doesn't have any namespace.
	(xmlnsattributes_to_xmlattributes2): Support for name as atom() was
	not present in the old format, so convert them as string.

	* src/iconv.erl, src/stringprep.erl: Fixed Erlang warnings.

	* testsuite/: More complete testsuite, with coverage checking.

	* testsuite/check_xml_converters.erl: Renamed from
	check_xml_serializer.erl to add other tests thant juste
	serialization.

	* ebin/Makefile.am, testsuite/Makefile.am: Every built files were not
	cleaned properly; fixed.

2006-06-28  Jean-Sébastien Pédron  <js.pedron@meetic-corp.com>

	The whole project uses the Autotools now.

	* include/exmpp.hrl: Add a prefix member to xmlnselement record. Add
	an xmlattr record to handle attribute (with namespace support).

	* src/exmpp_xml.erl: New API (more consistent) with better namespace
	support (even for attributes). There's a compatibility layer for the
	old API, which can be enabled by defining WITH_DEPRECATED_API at
	compile time.

	* c_src/expat_drv.c: Imporve namespace support, especially for
	attributes. Add an option to put element and attribute name as
	atom().

	* c_src/tls_drv.c (tls_drv_control): Fixed a warning about different
	types in an affectation.

	* testsuite/: Add a testsuite.
